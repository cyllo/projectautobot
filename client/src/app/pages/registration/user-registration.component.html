<div class="user-registration" fxLayout="column" fxFlex>

  <div class="container" fxLayout="row" fxLayoutAlign="center center" *ngIf="bnetCode | async; else noBnetCodeBlock">
    <div fxLayout="column" fxFlex.gt-sm="initial" fxFlex.sm="25%" fxHide.xs>
      <img class="hero-portrait" ngClass.lt-md="offset" src="/img/hero_renders/soldier_76.png" draggable="false">
    </div>
    <div fxLayout="column" fxFlex.gt-sm="1 1 510px" fxFlex.sm="75%" fxFlex.xs>
      <p class="mat-display-1">Almost done, A few more things...</p>
      <form class="registration-form" fxLayout="column" fxLayoutGap="30px" [formGroup]="registrationForm" (ngSubmit)="registration$.next(registrationForm.value)">
        <md-form-field>
          <input mdInput type="text" placeholder="Display Name" formControlName="displayName">
          <md-error *ngIf="registrationForm.controls.displayName.hasError('pattern')">
            Please enter only alphabetic characters and numbers.
          </md-error>
          <md-error *ngIf="registrationForm.controls.displayName.hasError('required')">
            Display name is <strong>required</strong>
          </md-error>
        </md-form-field>
        <md-form-field>
          <input mdInput type="email" placeholder="E-mail" formControlName="email">
          <md-error *ngIf="registrationForm.controls.email.hasError('pattern')">
            Please enter a valid email address.
          </md-error>
          <md-error *ngIf="registrationForm.controls.email.hasError('required')">
            Email is <strong>required</strong>
          </md-error>
        </md-form-field>
        <md-form-field>
          <input mdInput type="password" placeholder="Password" formControlName="password">
          <md-error *ngIf="registrationForm.controls.password.hasError('pattern')">
            Your password must be at least 8 characters long and contain atleast 1 uppercase alphabetic character, 1 numeric character,
            and 1 special character.
          </md-error>
          <md-error *ngIf="registrationForm.controls.password.hasError('required')">
            Password is <strong>required</strong>
          </md-error>
        </md-form-field>
        <p class="mat-caption">By registering you accept the <a href="#">Terms and Conditions</a> of the website.</p>
        <button class="ow-primary" type="submit" md-button [disabled]="!registrationForm.valid">Complete Registration</button>
      </form>
    </div>
  </div>

  <ng-template #noBnetCodeBlock>
    <div class="container" fxLayout="row" fxLayoutAlign="center center">
      <div fxLayout="column" fxFlex.gt-sm="1 1 420px" fxFlex.sm="70%" fxFlex.xs>
        <p class="mat-display-1">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        <p class="mat-body-1">Etiam sit amet erat elementum, viverra turpis vel, congue tellus. In tincidunt mauris at eros consequat, et volutpat mi ullamcorper.</p>
        <div class="section-register">
          <button class="battle-net" type="button" (click)="bnetAuth($event)" md-button>
            <md-icon>link</md-icon>
            <span>Sign Up via Battle.net</span>
          </button>
          <p class="mat-caption">Register Now! itâ€™s really simple and you can start enjoing all the benefits! Already have an account? <a routerLink="/login">Click here to login.</a></p>
        </div>
      </div>
      <div fxLayout="column" fxFlex.gt-sm="initial" fxFlex.sm="30%" fxHide.xs>
        <img class="heroes" src="/img/heroes_pose.png" ngClass.lt-md="offset" draggable="false">
      </div>
    </div>
  </ng-template>

</div>
