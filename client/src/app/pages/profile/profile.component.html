<div class="profile flex-layout" fxLayout="row" *ngIf="player | async as playerData">

  <div *ngIf="selectedSnapshotData | async as snapshotStats; else loadingProfile;">

    <div class="flex-layout" fxLayout="column" fxFlex="grow" fxLayoutGap="14px">

      <div class="profile-header flex-layout px-3"
           fxLayout="row"
           fxLayoutGap.gt-sm="30px"
           fxFlex="noshrink"
           fxLayoutWrap
           *ngIf="playerData">
        <div class="flex-layout pt-3" fxLayout="column" fxFlex.lt-md="100%" fxFlex.gt-sm="initial">
          <ow-platform-region
            [player]="playerData"
            [players]="players | async"
            (change)="changePlatformRegion($event)">
          </ow-platform-region>
        </div>
        <div class="flex-layout pt-3" fxLayout="column" fxFlex.lt-md="100%" fxFlex.gt-sm="initial">
          <div ngStyle.gt-sm="padding-top: 22px;">
            <ow-quick-comp-toggle (change)="toggleSnapshotStats($event)"></ow-quick-comp-toggle>
          </div>
        </div>
      </div><!-- end .profile-header -->

      <div class="profile-body flex-layout"
           fxLayout="row"
           fxFlex="noshrink"
           fxLayoutWrap
           *ngIf="playerData && selectedSnapshotData">

        <div class="flex-layout" fxLayout="column" fxFlex.lt-lg="100%" fxFlex.lg="360px">
          <div class="flex-layout" fxLayout="row" fxFlex="noshrink" fxLayoutWrap>
            <div class="flex-layout px-3 py-3" fxLayout="column" fxFlex.lt-md="100%" fxFlex.md="50%" fxFlex.lg="100%">
              <ow-profile-overview [player]="playerData"></ow-profile-overview>
            </div>
            <div class="flex-layout px-3 py-3" fxLayout="column" fxFlex.lt-md="100%" fxFlex.md="50%" fxFlex.lg="100%">
              <ow-skill-rating-trend></ow-skill-rating-trend>
            </div>
          </div>
        </div>

        <div class="flex-layout pt-3" fxLayout="column" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="100%" fxFlex.lg="auto">
          <div fxLayout="row">
            <div fxLayout="column">
              <ow-career [snapshotStats]="snapshotStats"></ow-career>
            </div>
          </div>
        </div>

      </div>

    </div>

</div>

<ng-template #loadingProfile>
  <ow-page-spinner></ow-page-spinner>
</ng-template>
