@mixin perfect-scrollbar-theme($theme) {

  $primary: map-get($theme, primary);
  $warn: map-get($theme, warn);
  $foreground: map-get($theme, foreground);
  $background: map-get($theme, background);

  $container-active-rail-background-color: transparent;
  $container-in-scrolling-rail-background-color: $container-active-rail-background-color;
  $container-hover-rail-hover-background-color: $container-active-rail-background-color;
  $container-hover-in-scrolling-rail-background-color: $container-active-rail-background-color;

  $container-in-scrolling-scrollbar-background-color: rgba(mat-color($foreground, text), 0.2);
  $container-rail-scrollbar-background-color: $container-in-scrolling-scrollbar-background-color;
  $container-hover-in-scrolling-scrollbar-background-color: $container-in-scrolling-scrollbar-background-color;
  $container-hover-rail-hover-scrollbar-background-color: $container-in-scrolling-scrollbar-background-color;

  $container-rail-opacity: 0;
  $container-hover-rail-opacity: 1;
  $container-hover-rail-hover-opacity: $container-hover-rail-opacity;
  $container-in-scrolling-rail-opacity: $container-hover-rail-opacity;
  $container-hover-in-scrolling-rail-opacity: $container-hover-rail-opacity;

  $scrollbar-girth: 2px;
  $scrollbar-in-scrolling-girth: 4px;
  $scrollbar-rail-girth: 15px;

  /* perfect-scrollbar v0.6.15 */

  .ps-container {
      -ms-touch-action: auto;
      touch-action: auto;
      overflow: hidden !important;
      -ms-overflow-style: none;
  }

  @supports (-ms-overflow-style: none) {
      .ps-container {
          overflow: auto !important;
      }
  }

  @media screen and (-ms-high-contrast: active),
  (-ms-high-contrast: none) {
      .ps-container {
          overflow: auto !important;
      }
  }

  .ps-container.ps-active-x>.ps-scrollbar-x-rail,
  .ps-container.ps-active-y>.ps-scrollbar-y-rail {
      display: block;
      background-color: $container-active-rail-background-color;
  }

  .ps-container.ps-in-scrolling.ps-x>.ps-scrollbar-x-rail {
      background-color: $container-in-scrolling-rail-background-color;
      opacity: $container-in-scrolling-rail-opacity;
  }

  .ps-container.ps-in-scrolling.ps-x>.ps-scrollbar-x-rail>.ps-scrollbar-x {
      background-color: $container-in-scrolling-scrollbar-background-color;
      height: $scrollbar-in-scrolling-girth;
  }

  .ps-container.ps-in-scrolling.ps-y>.ps-scrollbar-y-rail {
      background-color: $container-in-scrolling-rail-background-color;
      opacity: $container-in-scrolling-rail-opacity;
  }

  .ps-container.ps-in-scrolling.ps-y>.ps-scrollbar-y-rail>.ps-scrollbar-y {
      background-color: $container-in-scrolling-scrollbar-background-color;
      width: $scrollbar-in-scrolling-girth;
  }

  .ps-container>.ps-scrollbar-x-rail {
      display: none;
      position: absolute;
      opacity: $container-rail-opacity;
      -webkit-transition: background-color .2s linear, opacity .2s linear;
      -o-transition: background-color .2s linear, opacity .2s linear;
      -moz-transition: background-color .2s linear, opacity .2s linear;
      transition: background-color .2s linear, opacity .2s linear;
      bottom: 0px;
      height: $scrollbar-rail-girth;
  }

  .ps-container>.ps-scrollbar-x-rail>.ps-scrollbar-x {
      position: absolute;
      background-color: $container-rail-scrollbar-background-color;
      -webkit-border-radius: 6px;
      -moz-border-radius: 6px;
      border-radius: 6px;
      -webkit-transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;
      transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;
      -o-transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;
      -moz-transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;
      transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;
      transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -webkit-border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;
      bottom: 2px;
      height: $scrollbar-girth;
  }

  .ps-container>.ps-scrollbar-x-rail:hover>.ps-scrollbar-x,
  .ps-container>.ps-scrollbar-x-rail:active>.ps-scrollbar-x {
      height: $scrollbar-in-scrolling-girth;
  }

  .ps-container>.ps-scrollbar-y-rail {
      display: none;
      position: absolute;
      opacity: $container-rail-opacity;
      -webkit-transition: background-color .2s linear, opacity .2s linear;
      -o-transition: background-color .2s linear, opacity .2s linear;
      -moz-transition: background-color .2s linear, opacity .2s linear;
      transition: background-color .2s linear, opacity .2s linear;
      right: 0;
      width: $scrollbar-rail-girth;
  }

  .ps-container>.ps-scrollbar-y-rail>.ps-scrollbar-y {
      position: absolute;
      background-color: $container-rail-scrollbar-background-color;
      -webkit-border-radius: 6px;
      -moz-border-radius: 6px;
      border-radius: 6px;
      -webkit-transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;
      transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;
      -o-transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;
      -moz-transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;
      transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;
      transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -webkit-border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;
      right: 2px;
      width: $scrollbar-girth;
  }

  .ps-container>.ps-scrollbar-y-rail:hover>.ps-scrollbar-y,
  .ps-container>.ps-scrollbar-y-rail:active>.ps-scrollbar-y {
      width: $scrollbar-in-scrolling-girth;
  }

  .ps-container:hover.ps-in-scrolling.ps-x>.ps-scrollbar-x-rail {
      background-color: $container-hover-in-scrolling-rail-background-color;
      opacity: $container-hover-in-scrolling-rail-opacity;
  }

  .ps-container:hover.ps-in-scrolling.ps-x>.ps-scrollbar-x-rail>.ps-scrollbar-x {
      background-color: $container-hover-in-scrolling-scrollbar-background-color;
      height: $scrollbar-in-scrolling-girth;
  }

  .ps-container:hover.ps-in-scrolling.ps-y>.ps-scrollbar-y-rail {
      background-color: $container-hover-in-scrolling-rail-background-color;
      opacity: $container-hover-in-scrolling-rail-opacity;
  }

  .ps-container:hover.ps-in-scrolling.ps-y>.ps-scrollbar-y-rail>.ps-scrollbar-y {
      background-color: $container-hover-in-scrolling-scrollbar-background-color;
      width: $scrollbar-in-scrolling-girth;
  }

  .ps-container:hover>.ps-scrollbar-x-rail,
  .ps-container:hover>.ps-scrollbar-y-rail {
      opacity: $container-hover-rail-opacity;
  }

  .ps-container:hover>.ps-scrollbar-x-rail:hover {
      background-color: $container-hover-rail-hover-background-color;
      opacity: $container-hover-rail-hover-opacity;
  }

  .ps-container:hover>.ps-scrollbar-x-rail:hover>.ps-scrollbar-x {
      background-color: $container-hover-rail-hover-scrollbar-background-color;
  }

  .ps-container:hover>.ps-scrollbar-y-rail:hover {
      background-color: $container-hover-rail-hover-background-color;
      opacity: $container-hover-rail-hover-opacity;
  }

  .ps-container:hover>.ps-scrollbar-y-rail:hover>.ps-scrollbar-y {
      background-color: $container-hover-rail-hover-scrollbar-background-color;
  }

}
